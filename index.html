<!DOCTYPE html>
<html lang="ko">
<head>
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
<script>
  Kakao.init('939f16955e2d7c36b1281d8981b8b423'); // 본인의 JavaScript 키 사용
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOLO MON의 선택</title>
  <style>
.page-title {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 40px);
  text-align: center;
  font-size: 18px; /* 글씨 크기 줄이기: 20px에서 18px로 변경 */
  color: #e1326f; /* 색상 변경: hotpink에서 버튼 hover 색상으로 변경 */
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  z-index: 10;
}      
    body {
      font-family: "Arial", sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
      text-align: center;
      color: #333;
    }
.container {
  background: #fff;
  margin: 50px auto;
  width: 420px;
  height: 420px;
  overflow-y: auto;
  padding: 70px 20px 30px 20px; /* 상단 패딩을 70px로 늘림 */
  box-sizing: border-box;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative; /* 이 속성이 꼭 있어야 `position: absolute`가 컨테이너 기준으로 동작해요! (현재 코드는 이미 잘 되어 있어요!) */
}
    #intro {
      display: flex;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 10px;
    }
    .question-label {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .question-text {
      font-size: 14px;
      margin-bottom: 20px;
    }
    button {
      background-color: #ff3c7e;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 20px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background-color: #e1326f;
    }
    .comment {
      font-size: 12px;
      color: #777;
      position: absolute;
      bottom: 10px;
      left: 0; /* 왼쪽에서 시작 */
      right: 0; /* 오른쪽까지 확장 */
      margin-left: auto; /* 자동 마진으로 중앙 정렬 */
      margin-right: auto;
      text-align: center;
      width: 90%; /* 너비 조정 */
    }
    .share-menu {
      /* 기존 display: none; position: absolute; background: white; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 100; margin-top: 5px; 이 부분은 HTML에 style=""로 남아있으니, CSS에서는 이 새로운 flex 관련 속성들만 추가하면 됩니다. */
      display: flex;       /* 가로 배치를 위한 flex 설정 */
      flex-direction: row; /* 가로 방향으로 배치 */
      flex-wrap: wrap;     /* 공간이 부족하면 다음 줄로 넘김 */
      width: auto;         /* 내용에 따라 너비 자동 조절 */
      padding: 5px;        /* 내부 여백 유지 */
      /* min-width: 300px;  // 필요하다면 최소 너비 설정 (짤림 방지) */
      box-sizing: border-box; /* 패딩이 너비 계산에 포함되도록 */
      max-width: 100%; /* 부모 너비를 넘지 않도록 (가로 스크롤 방지) */
    }

    .share-menu-item {
      flex: 1;
      margin: 2px;
      white-space: nowrap;
      min-width: fit-content;
      font-size: 12px; /* 폰트 크기 줄이기 */
      padding: 8px 12px; /* 패딩 조정 */
    }
  
    #result {
      height: auto;
      min-height: 420px;
      overflow-y: hidden;
    }  
  </style>
</head>
<body>
  <div class="container" id="intro" style="display:flex">
    <h1>SOLO MON의 선택 💘</h1>
    <p style="margin-bottom: 20px; font-size: 14px; line-height: 1.5;">
      AI가 뽑은 당신의 이상형은 누구일까요?<br>
      총 20문항의 간단한 테스트로,<br>
      나의 연애 성향과 잘 맞는 이상형을 찾아보세요!
    </p>
    <button onclick="showQuestion(1)">💡 테스트 시작하기</button>
  </div>

  <div class="container" id="question1">
    <h2 class="page-title">솔로몬의 선택 이상형 테스트</h2>
    <div class="question-label">Q1.</div>
    <div class="question-text">연인과의 데이트 약속이 잡히면 나는...</div>
    <button onclick="recordAnswer('E'); showQuestion(2)">🗣️ 사람이 많은 곳이나 새로운 활동을 함께 하고 싶다.</button>
    <button onclick="recordAnswer('I'); showQuestion(2)">🤫 조용하고 아늑한 공간에서 대화를 나누고 싶다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 성남시 청년들이 모여 새로운 인연을 맺는 만남 주선 행사다.</p>
  </div>

  <div class="container" id="question2">
    <h2 class="page-title">솔로몬의 선택 이상형 테스트</h2>
    <div class="question-label">Q2.</div>
    <div class="question-text">연인과 친구, 가족이 함께하는 자리에 가면 나는...</div>
    <button onclick="recordAnswer('E'); showQuestion(3)">😊 적극적으로 대화에 참여하고 모두와 어울린다.</button>
    <button onclick="recordAnswer('I'); showQuestion(3)">👀 주로 연인 옆에서 상황을 지켜보며 편안하게 있는다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 이 행사는 실제 커플이 탄생하고 결혼·출산까지 이어진 사례를 보유하고 있다.</p>
  </div>

  <div class="container" id="question3">
    <h2 class="page-title">솔로몬의 선택 이상형 테스트</h2>
    <div class="question-label">Q3.</div>
    <div class="question-text">연애 중 힘들거나 스트레스받을 때 나는...</div>
    <button onclick="recordAnswer('E'); showQuestion(4)">🗣️ 연인이나 친구들과 만나 얘기하며 에너지를 회복한다.</button>
    <button onclick="recordAnswer('I'); showQuestion(4)">🤔 혼자만의 시간을 가지며 감정을 정리하고 회복한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 누적 커플 수는 3년간 398쌍에 달한다.</p>
  </div>

  <div class="container" id="question4">
    <h2 class="page-title">솔로몬의 선택 이상형 테스트</h2>
    <div class="question-label">Q4.</div>
    <div class="question-text">연인에게 사랑을 표현할 때 나는 주로...</div>
    <button onclick="recordAnswer('E'); showQuestion(5)">💖 직접적인 말과 행동, 스킨십으로 자주 표현한다.</button>
    <button onclick="recordAnswer('I'); showQuestion(5)">😊 말이나 행동보다는 눈빛 등 간접적으로 표현한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 참가자들의 평균 매칭률은 약 49.1%로 높은 수준을 유지하고 있다.</p>
  </div>

  <div class="container" id="question5">
    <div class="question-label">Q5.</div>
    <div class="question-text">새로운 커플 모임이나 파티에 가자는 연인의 제안에 나는...</div>
    <button onclick="recordAnswer('E'); showQuestion(6)">🥳 "좋아! 누구 누구 오는지도 궁금해!"<br> 설레는 마음으로 참여한다.</button>
    <button onclick="recordAnswer('I'); showQuestion(6)">😅 "가야 하나...?" <br> 살짝 부담스럽지만 연인을 위해 함께 간다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 15기 최고 매칭률은 68%를 기록했다.</p>
  </div>

  <div class="container" id="question6">
    <div class="question-label">Q6.</div>
    <div class="question-text">연인의 기분이 좋지 않아 보일 때 나는...</div>
    <button onclick="recordAnswer('S'); showQuestion(7)">🧐 "무슨 일 있어? 어디 아파?" <br> 구체적인 이유를 물어본다.</button>
    <button onclick="recordAnswer('N'); showQuestion(7)">🔮 왠지 불편해 보여..<br>직감적으로 문제가 있음을 알아챈다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 해외 주요 언론에도 소개된 공식 미혼 남녀 대상 공공 행사다.</p>
  </div>

  <div class="container" id="question7">
    <div class="question-label">Q7.</div>
    <div class="question-text">연인에게 줄 선물을 고를 때 나는...</div>
    <button onclick="recordAnswer('S'); showQuestion(8)">🎁 평소 연인이 필요하다고 말했던 <br> 실용적인 물건을 고른다.</button>
    <button onclick="recordAnswer('N'); showQuestion(8)">✨ 취향을 고려해 의미 있고, <br>예상치 못한 선물을 고른다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 뉴욕타임스, BBC, 로이터 등에서 보도한 공공 만남 행사로는 드문 사례다.</p>
  </div>

  <div class="container" id="question8">
    <div class="question-label">Q8.</div>
    <div class="question-text">연인과 미래를 함께 이야기할 때 나는...</div>
    <button onclick="recordAnswer('S'); showQuestion(9)">🏡 "어디에 살고 싶어? 언제쯤 결혼하고 싶어?" <br> 현실적인 계획을 세운다.</button>
    <button onclick="recordAnswer('N'); showQuestion(9)">🌟 "우리는 어떤 꿈을 꾸며 살까? <br> 함께 무얼 이룰 수 있을까?" 큰 그림을 그린다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 이 행사는 상표 등록을 마친 공식 브랜드 행사다.</p>
  </div>

  <div class="container" id="question9">
    <div class="question-label">Q9.</div>
    <div class="question-text">썸 단계에서 상대방의 매력을 느낄 때 나는...</div>
  <button onclick="recordAnswer('S'); showQuestion(10)">📸 상대의 외모, 옷차림, 직업, 말투 등 눈에 보이는 <br> 사실적인 모습에 끌린다.</button>
  <button onclick="recordAnswer('N'); showQuestion(10)">💞 상대에게서 느껴지는 분위기, 잠재력, 함께할 미래 등 상상 속 모습에 끌린다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 KAIST AI 대학원과 협력한 AI 매칭 프로그램으로 조 편성이 이뤄진다.</p>
  </div>

  <div class="container" id="question10">
    <div class="question-label">Q10.</div>
    <div class="question-text">애정 표현 중 "네가 내 옆에 있어서 정말 든든해."라는 <br>말을 들었다면...</div>
    <button onclick="recordAnswer('S'); showQuestion(11)">💪 '내가 짐을 잘 들어줬나?' 등 <br> 내가 했던 행동을 떠올려본다.</button>
    <button onclick="recordAnswer('N'); showQuestion(11)">💖 '나를 믿고 의지하고 있구나.'<br> 깊은 의미를 파악한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 로테이션 대화, 연애 코칭 등 다양한 프로그램이 마련되어 있다.</p>
  </div>

    <div class="container" id="question11">
    <div class="question-label">Q11.</div>
    <div class="question-text">연인이 힘들어할 때 나는...</div>
    <button onclick="recordAnswer('T'); showQuestion(12)">📊 문제를 객관적으로 분석하고<br> 해결책이나 조언을 제시한다.</button>
    <button onclick="recordAnswer('F'); showQuestion(12)">😢 "많이 힘들었겠다..." <br>공감하며 감정적으로 위로해 준다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 평균 경쟁률은 약 6:1로, 높은 관심을 받고 있는 행사다.</p>
  </div>

  <div class="container" id="question12">
    <div class="question-label">Q12.</div>
    <div class="question-text">연인과 중요한 결정을 해야 할 때 나는... (예: 이사, 여행 등)</div>
  <button onclick="recordAnswer('T'); showQuestion(13)">🔍 비용, 효율, 이성적인 장단점 등을 <br>분석하여 최적의 선택을 한다.</button>
  <button onclick="recordAnswer('F'); showQuestion(13)">💖 서로의 감정과 의견을 조율하며 <br>모두가 만족할 만한 선택을 하려 한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 자유로운 분위기 속에서 청년 간의 교류와 소통을 유도한다.</p>
  </div>

  <div class="container" id="question13">
    <div class="question-label">Q13.</div>
    <div class="question-text">친구나 연인의 결과물에 대해 피드백을 줄 때 나는...</div>
  <button onclick="recordAnswer('T'); showQuestion(14)">🧐 객관적인 기준에 맞춰 잘된 점과 <br>개선할 점을 명확히 말해준다.</button>
  <button onclick="recordAnswer('F'); showQuestion(14)">🥰 상대의 기분을 먼저 생각하며 <br>조심스럽게 격려와 칭찬 위주로 말해준다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 청년들의 진지한 관계 형성을 지원한다.</p>
  </div>

  <div class="container" id="question14">
    <div class="question-label">Q14.</div>
    <div class="question-text">연인이 "자기야, 나는 네가 옆에 있어 주는 것만으로도 <br> 너무 행복해."라고 말하면...</div>
    <button onclick="recordAnswer('T'); showQuestion(15)">🤔 '내가 구체적으로 어떤 행동을 해줘야 더 행복할까?' <br>객관적으로 생각한다.</button>
    <button onclick="recordAnswer('F'); showQuestion(15)">🥰 '정말 고마워! 나도 자기 덕분에 너무 행복해!' <br> 따뜻한 감동을 느낀다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 우수행정 분야 등에서 수상 실적을 보유한 공식 행사다.</p>
  </div>

  <div class="container" id="question15">
    <div class="question-label">Q15.</div>
    <div class="question-text">연인이 서운함을 토로할 때 나는...</div>
    <button onclick="recordAnswer('T'); showQuestion(16)">🧐 무엇이 서운한지 명확한 이유와 <br>사실 관계를 확인하려 한다.</button>
    <button onclick="recordAnswer('F'); showQuestion(16)">🥺 상대의 감정에 초점을 맞춰 <br>위로하고 미안하다고 말하며 다독인다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 다수의 지자체가 벤치마킹하는 대표적인 만남 행사다.</p>
  </div>

  <div class="container" id="question16">
    <div class="question-label">Q16.</div>
    <div class="question-text">연인과의 데이트 계획을 짤 때 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(17)">🗓️ 언제, 어디서, 무엇을 할지 <br>꼼꼼하게 미리 정해놓는 것을 좋아한다.</button>
    <button onclick="recordAnswer('P'); showQuestion(17)">🗺️ 대략적인 방향만 정하고 세부 계획은 만나서<br> 즉흥적으로 정하는 게 편하다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 실제 참가자들로부터 높은 만족도 평가를 받고 있다.</p>
  </div>

  <div class="container" id="question17">
    <div class="question-label">Q17.</div>
    <div class="question-text">연인과의 일상적인 연락에 대해 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(18)">💬 정해진 시간이나 규칙적으로 <br>연락하는 것이 마음 편하다.</button>
    <button onclick="recordAnswer('P'); showQuestion(18)">📱 그때그때 상황에 따라 <br>자유롭게 연락하는 것을 선호한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 연애 경험이 적은 참가자들도 편하게 참여할 수 있도록 설계되었다.</p>
  </div>

  <div class="container" id="question18">
    <div class="question-label">Q18.</div>
    <div class="question-text">연인과 여행을 떠날 때 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(19)">✔️ 모든 숙소, 교통편, 방문할 곳을 <br>미리 예약하고 철저하게 계획한다.</button>
    <button onclick="recordAnswer('P'); showQuestion(19)">🎒 현지에서 끌리는 대로 움직이며 <br>예상치 못한 즐거움을 찾는 것을 좋아한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 참가비는 무료이며, 모든 프로그램은 성남시에서 지원한다.</p>
  </div>

  <div class="container" id="question19">
    <div class="question-label">Q19.</div>
    <div class="question-text">갑작스러운 연인의 '지금 만나러 갈게!' 연락에 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(20)">😬 "응? 갑자기? 나 아직 준비도 안 됐는데..." <br>계획에 없던 상황에 당황한다.</button>
    <button onclick="recordAnswer('P'); showQuestion(20)">🥳 "정말?! 와봐와봐!" <br>예상치 못한 이벤트에 즐거워한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 신청 기간 내 지원자 중 100명을 무작위로 선정해 참가 기회를 제공한다.</p>
  </div>

  <div class="container" id="question20">
    <div class="question-label">Q20.</div>
    <div class="question-text">연인과의 약속 시간에 나는...</div>
    <button onclick="recordAnswer('J'); showResult()">⏰ 약속 시간보다 항상 미리 도착해서 <br>여유 있게 기다린다.</button>
    <button onclick="recordAnswer('P'); showResult()">🏃‍♂️ 시간 맞춰 도착하거나 <br> 가끔 아슬아슬하게 도착하기도 한다.</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 2023년부터 현재까지 지속 운영되고 있다.</p>
  </div>  
  
  <div class="container" id="result">
        <h1>🌈 당신의 이상형 결과는?</h1>
        <p id="resultText"><strong>결과 분석 중...</strong></p>
      <div class="share-container" style="position: relative; display: inline-block;">
        <button onclick="toggleShareMenu()" class="share-main-button">📤 내 결과 공유하기</button>
        <div id="shareMenu" class="share-menu" style="display: none; position: absolute; background: white; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 100; margin-top: 5px; left: 50%; transform: translateX(-50%);">
  <button onclick="copyLink()" class="share-menu-item">🔗 링크 복사</button>
  <button onclick="shareKakao()" class="share-menu-item">💬 카카오톡</button>
  <button onclick="shareLine()" class="share-menu-item">📲 라인</button>
  <button onclick="shareFacebook()" class="share-menu-item">📘 페이스북</button>
  <button onclick="shareX()" class="share-menu-item">✖️ X</button>
</div>
      </div>
    <!-- 여기에 새로운 멘트 추가 -->
        <p style="font-size: 14px; margin-top: 20px; margin-bottom: 10px; line-height: 1.4;">
        내 이상형을 만나고 싶다면? <br>
        성남시 청춘남녀 만남행사 <span class="hotpink-text"><strong>'SOLO MON의 선택'</strong></span>에 참가하세요!
        </p>
<a href="https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1" target="_blank">
  <button>행사 신청하러 가기 🎟</button>
</a>
<p style="font-size: 11px; margin-top: 30px;">Made by <strong>JINO</strong></p>

  <script>
    let answers = [];

    function showQuestion(num) {
      document.querySelectorAll('.container').forEach(c => c.style.display = 'none');
      document.getElementById(`question${num}`).style.display = 'flex';
    }

    function recordAnswer(letter) {
      answers.push(letter);
    }

function showResult() {
  document.querySelectorAll('.container').forEach(c => c.style.display = 'none');
  document.getElementById('result').style.display = 'flex';

  // 응답 수 계산 (기존 코드)
  const counts = { /* ... */ };
  answers.forEach(l => { /* ... */ });
  
  // 각 MBTI 지표별 우세한 성향 결정 (기존 코드)
  let finalMBTI = "";
  finalMBTI += (counts['E'] >= counts['I']) ? 'E' : 'I';
  finalMBTI += (counts['S'] >= counts['N']) ? 'S' : 'N';
  finalMBTI += (counts['T'] >= counts['F']) ? 'T' : 'F';
  finalMBTI += (counts['J'] >= counts['P']) ? 'J' : 'P';

  // MBTI 유형별 설명, 궁합, 이모티콘 정보
  const mbtiInfo = {
    'ENFJ': {
      tendency: "외향적인 조력가 유형이군요! 타인의 성장과 발전에 열정적인 지지를 보내며 사람들을 이끄는 리더형입니다.",
      compatible: "당신과 잘 맞는 이상형은 논리적이고 비전을 가진 <span class='hotpink-text'>INTP, INTJ</span> 유형입니다.",
      emoji: "👑✨"
    },
    'ENFP': {
      tendency: "재기발랄한 활동가 유형이군요! 상상력이 풍부하고 항상 새로운 가능성을 탐구하며 주변에 영감을 주는 에너자이저입니다.",
      compatible: "당신과 잘 맞는 이상형은 분석적이고 독립적인 <span class='hotpink-text'>INTJ, INFJ</span> 유형입니다.",
      emoji: "🦋🌈"
    },
    'ENTJ': {
      tendency: "대담한 통솔자 유형이군요! 타고난 리더십과 뛰어난 분석력으로 목표 달성을 위해 거침없이 나아가는 전략가형입니다.",
      compatible: "당신과 잘 맞는 이상형은 조용하고 사색적인 <span class='hotpink-text'>INTP, INFJ</span> 유형입니다.",
      emoji: "🚀💼"
    },
    'ENTP': {
      tendency: "뜨거운 논쟁을 즐기는 변론가 유형이군요! 지적 호기심이 많고 혁신적인 아이디어로 기존 틀을 깨는 것을 즐기는 유형입니다.",
      compatible: "당신과 잘 맞는 이상형은 성실하고 안정적인 <span class='hotpink-text'>INFJ, INTJ</span> 유형입니다.",
      emoji: "💡🔍"
    },
    'ESFJ': {
      tendency: "사교적인 외교관 유형이군요! 사람들과 어울리기를 좋아하고 타인을 진심으로 배려하며 화합을 이끄는 조력가형입니다.",
      compatible: "당신과 잘 맞는 이상형은 활기차고 현실적인 <span class='hotpink-text'>ISFP, ISTP</span> 유형입니다.",
      emoji: "🤗💝"
    },
    'ESFP': {
      tendency: "자유로운 연예인 유형이군요! 즉흥적이고 넘치는 에너지로 주변을 즐겁게 만들며 현재를 만끽하는 자유로운 영혼입니다.",
      compatible: "당신과 잘 맞는 이상형은 체계적이고 신중한 <span class='hotpink-text'>ISTJ, ISFJ</span> 유형입니다.",
      emoji: "🎭🎉"
    },
    'ESTJ': {
      tendency: "엄격한 관리자 유형이군요! 현실적이고 체계적이며 약속을 중요시하여 주변을 효율적으로 이끄는 조직가형입니다.",
      compatible: "당신과 잘 맞는 이상형은 유연하고 적응력이 뛰어난 <span class='hotpink-text'>ISFP, ISTP</span> 유형입니다.",
      emoji: "📊📋"
    },
    'ESTP': {
      tendency: "활동적인 사업가 유형이군요! 대담하고 현실적이며 넘치는 에너지로 도전을 즐기는 모험가형입니다.",
      compatible: "당신과 잘 맞는 이상형은 침착하고 배려심 깊은 <span class='hotpink-text'>ISFJ, ISTJ</span> 유형입니다.",
      emoji: "🏄‍♂️💪"
    },
    'INFJ': {
      tendency: "선의의 옹호자 유형이군요! 깊은 통찰력과 강한 신념을 가지고 이상을 추구하며 타인의 성장을 돕는 이타적인 유형입니다.",
      compatible: "당신과 잘 맞는 이상형은 에너지가 넘치고 영감을 주는 <span class='hotpink-text'>ENFP, ENTP</span> 유형입니다.",
      emoji: "🔮💭"
    },
    'INFP': {
      tendency: "열정적인 중재자 유형이군요! 온화하고 사려 깊으며 자신의 가치를 중요시하고 타인을 이해하는 데 뛰어난 이상주의자입니다.",
      compatible: "당신과 잘 맞는 이상형은 논리적이고 비전이 있는 <span class='hotpink-text'>ENTJ, ENFJ</span> 유형입니다.",
      emoji: "🌱🌟"
    },
    'INTJ': {
      tendency: "용의주도한 전략가 유형이군요! 독립적이고 분석적이며 뛰어난 지략으로 복잡한 문제를 해결하는 통찰력 있는 사상가입니다.",
      compatible: "당신과 잘 맞는 이상형은 외향적이고 감성적인 <span class='hotpink-text'>ENFP, ENTP</span> 유형입니다.",
      emoji: "🧠🔭"
    },
    'INTP': {
      tendency: "논리적인 사색가 유형이군요! 끊임없이 지식을 탐구하고 복잡한 시스템을 분석하며 새로운 이론을 탐구하는 독창적인 유형입니다.",
      compatible: "당신과 잘 맞는 이상형은 따뜻하고 사교적인 <span class='hotpink-text'>ENFJ, ENTJ</span> 유형입니다.",
      emoji: "🔬📚"
    },
    'ISFJ': {
      tendency: "용감한 수호자 유형이군요! 책임감이 강하고 헌신적이며 주변 사람들을 묵묵히 돕는 데 뛰어난 봉사자형입니다.",
      compatible: "당신과 잘 맞는 이상형은 활동적이고 현실적인 <span class='hotpink-text'>ESFP, ESTP</span> 유형입니다.",
      emoji: "🛡️🤲"
    },
    'ISFP': {
      tendency: "호기심 많은 예술가 유형이군요! 겸손하고 온화하며 새로운 경험을 즐기고 아름다움을 추구하는 섬세한 감수성 유형입니다.",
      compatible: "당신과 잘 맞는 이상형은 체계적이고 신뢰할 수 있는 <span class='hotpink-text'>ESTJ, ESFJ</span> 유형입니다.",
      emoji: "🎨🌷"
    },
    'ISTJ': {
      tendency: "청렴결백한 논리주의자 유형이군요! 원칙을 중요시하고 신중하며 책임감이 강하여 맡은 일을 완벽하게 처리하는 성실한 유형입니다.",
      compatible: "당신과 잘 맞는 이상형은 외향적이고 적응력 있는 <span class='hotpink-text'>ESFP, ESTP</span> 유형입니다.",
      emoji: "📏⏱️"
    },
    'ISTP': {
      tendency: "만능 재주꾼 유형이군요! 독립적이고 현실적이며 문제 해결 능력이 뛰어나고 기계를 잘 다루는 재주가 많은 실용주의자입니다.",
      compatible: "당신과 잘 맞는 이상형은 사교적이고 안정적인 <span class='hotpink-text'>ESFJ, ESTJ</span> 유형입니다.",
      emoji: "🔧🏹"
    },
    'DEFAULT': { // 20문항으로 결과가 명확히 나오지 않거나 오류 시 사용
      tendency: "당신은 아직 미지의 매력을 가진 유형이군요!",
      compatible: "당신과 잘 맞는 이상형은 <span class='hotpink-text'>다양한 매력을 가진 사람</span>입니다.",
      emoji: "✨🌈"
    }
  };

  const currentMBTIInfo = mbtiInfo[finalMBTI] || mbtiInfo.DEFAULT;

  // 큰 이모티콘 스타일로 결과 표시
  document.getElementById("resultText").innerHTML = `
    <div style="font-size: 48px; margin: 20px 0;">${currentMBTIInfo.emoji}</div>
    <p>당신은 <span class="hotpink-text"><strong>${currentMBTIInfo.tendency}</strong></span></p>
    <p>${currentMBTIInfo.compatible}</p>
  `;
}

// 공유 관련 함수들을 showResult 함수 밖으로 이동
function toggleShareMenu() {
  const menu = document.getElementById('shareMenu');
  if (menu) {
    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
  }
}

function copyLink() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText; // 결과 텍스트 가져오기

  const shareContent = `
솔로몬의 선택 이상형 테스트 결과는?
${resultText}

테스트 참여하기 👉 ${testLink}
'내 이상형을 만날 기회!' 성남시 'SOLO MON의 선택' 신청하기 👉 ${eventLink}
`.trim(); // 템플릿 리터럴로 내용 조합 및 앞뒤 공백 제거

  navigator.clipboard.writeText(shareContent)
    .then(() => alert("결과가 클립보드에 복사되었어요! 친구에게 붙여넣기 해보세요 ✨"))
    .catch(err => alert("링크 복사에 실패했습니다: " + err));
  toggleShareMenu();
}

function shareKakao() {
  if (typeof Kakao !== 'undefined') {
    const testLink = "https://jjinooh.github.io/SOLO_MON/";
    const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
    const resultText = document.getElementById("resultText").innerText;

    Kakao.Link.sendDefault({
      objectType: 'text',
      text: `💘 솔로몬의 선택 이상형 테스트 결과는:\n\n${resultText}

🎟️ 행사 신청하러 가기 👉 ${eventLink}`,
      link: {
        webUrl: testLink,
        mobileWebUrl: testLink
      },
      buttons: [
        {
          title: '🔁 테스트 다시 하기',
          link: {
            webUrl: testLink,
            mobileWebUrl: testLink
          }
        }
      ]
    });
  } else {
    alert('카카오톡 공유 기능을 사용할 수 없습니다.');
  }
  toggleShareMenu();
}

function shareLine() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText;

  const shareMessage = `솔로몬의 선택 이상형 테스트 결과는:
${resultText}

테스트 참여하기: ${testLink}
행사 신청하기: ${eventLink}`;

  const url = "https://social-plugins.line.me/lineit/share?url=" + encodeURIComponent(testLink) + "&text=" + encodeURIComponent(shareMessage);
  window.open(url, '_blank');
  toggleShareMenu();
}

function shareFacebook() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const resultText = document.getElementById("resultText").innerText;
  
  // Facebook은 u 파라미터(URL)와 quote 파라미터(텍스트)를 사용합니다
  const url = "https://www.facebook.com/sharer/sharer.php?u=" + 
              encodeURIComponent(testLink) + 
              "&quote=" + 
              encodeURIComponent("솔로몬의 선택 이상형 테스트 결과:\n" + resultText);
  
  window.open(url, '_blank');
  toggleShareMenu();
}

function shareX() { // 이전 Twitter (X)
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText;

  const shareMessage = `솔로몬의 선택 이상형 테스트 결과는:
${resultText}

#솔로몬의선택 #이상형테스트 #성남시행사`; // 해시태그 추가 가능

  // X (구 트위터)는 'text' 파라미터로 텍스트와 함께 URL을 직접 지정할 수 있습니다.
  const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareMessage + '\n\n' + '테스트 참여: ' + testLink + '\n행사 신청: ' + eventLink)}`;
  window.open(url, '_blank');
  toggleShareMenu();
}
      </script>
</body>
</html>
