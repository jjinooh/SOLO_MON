<!DOCTYPE html>
<html lang="ko">
<head>
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script>
    // 카카오 SDK 초기화
    Kakao.init('939f16955e2d7c36b1281d8981b8b423'); // JavaScript 키
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOLO MON의 선택</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
      text-align: center;
      color: #333;
    }
.container {
  background: #fff;
  margin: 50px auto;
  width: 420px;
  height: 420px;
  overflow-y: auto;
  padding: 30px 20px;
  box-sizing: border-box;  
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  display: none;
  flex-direction: column;
  justify-content: center; /* space-between에서 center로 변경 */
  align-items: center;
  position: relative; /* 추가: 내부 요소의 절대 위치 지정을 위함 */
}
    #intro {
      display: flex;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 10px;
    }
    .question-label {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .question-text {
      font-size: 14px;
      margin-bottom: 20px;
    }
    button {
      background-color: #ff3c7e;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 20px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background-color: #e1326f;
    }
    .comment {
      font-size: 12px;
      color: #777;
      position: absolute;
      bottom: 10px;
      left: 0; /* 왼쪽에서 시작 */
      right: 0; /* 오른쪽까지 확장 */
      margin-left: auto; /* 자동 마진으로 중앙 정렬 */
      margin-right: auto;
      text-align: center;
      width: 90%; /* 너비 조정 */
    }
    #result {
      height: auto;
      min-height: 420px;
      overflow-y: hidden;
    }  
  </style>
</head>
<body>
  <div class="container" id="intro" style="display:flex">
    <h1>SOLO MON의 선택 💘</h1>
    <p style="margin-bottom: 20px; font-size: 14px; line-height: 1.5;">
      AI가 뽑은 당신의 이상형은 누구일까요?<br>
      총 18문항의 간단한 테스트로,<br>
      나의 연애 성향과 잘 맞는 이상형을 찾아보세요!
    </p>
    <button onclick="showQuestion(1)">💡 테스트 시작하기</button>
  </div>

  <div class="container" id="question1">
    <div class="question-label">Q1.</div>
    <div class="question-text">나는 사람을 만나면 에너지가...</div>
    <button onclick="recordAnswer('E'); showQuestion(2)">⚡ 충전된다</button>
    <button onclick="recordAnswer('I'); showQuestion(2)">😮‍💨 소진된다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 성남시 청년들이 모여 새로운 인연을 맺는 만남 주선 행사다.</p>
  </div>

  <div class="container" id="question2">
    <div class="question-label">Q2.</div>
    <div class="question-text">계획 없는 주말, 나는...</div>
    <button onclick="recordAnswer('P'); showQuestion(3)">🚶 즉흥적으로 나선다</button>
    <button onclick="recordAnswer('J'); showQuestion(3)">📅 계획을 세운다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 이 행사는 실제 커플이 탄생하고 결혼·출산까지 이어진 사례를 보유하고 있다.</p>
  </div>

  <div class="container" id="question3">
    <div class="question-label">Q3.</div>
    <div class="question-text">처음 본 사람과의 대화에서 나는...</div>
    <button onclick="recordAnswer('S'); showQuestion(4)">👂 현실적인 얘기를 나눈다</button>
    <button onclick="recordAnswer('N'); showQuestion(4)">🌈 상상력 넘치는 얘기를 한다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 누적 커플 수는 3년간 398쌍에 달한다.</p>
  </div>

  <div class="container" id="question4">
    <div class="question-label">Q4.</div>
    <div class="question-text">결정을 내려야 할 때 나는...</div>
    <button onclick="recordAnswer('T'); showQuestion(5)">📈 논리적으로 판단한다</button>
    <button onclick="recordAnswer('F'); showQuestion(5)">💖 감정에 따라 결정한다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 참가자들의 평균 매칭률은 약 49.5%로 높은 수준을 유지하고 있다.</p>
  </div>

  <div class="container" id="question5">
    <div class="question-label">Q5.</div>
    <div class="question-text">데이트 약속 시간, 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(6)">⏰ 미리 도착하는 편</button>
    <button onclick="recordAnswer('P'); showQuestion(6)">😅 시간에 맞춰 도착하는 편</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 15기 최고 매칭률은 68%를 기록했다.</p>
  </div>

  <div class="container" id="question6">
    <div class="question-label">Q6.</div>
    <div class="question-text">주로 연락을 주도하는 편인가요?</div>
    <button onclick="recordAnswer('E'); showQuestion(7)">📱 내가 먼저 연락하는 편</button>
    <button onclick="recordAnswer('I'); showQuestion(7)">🙋‍♀️ 상대가 먼저 연락하길 기다림</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 해외 주요 언론에도 소개된 공식 미혼 남녀 대상 공공 행사다.</p>
  </div>

  <div class="container" id="question7">
    <div class="question-label">Q7.</div>
    <div class="question-text">친구나 연인의 속마음을 알기 위해 나는...</div>
    <button onclick="recordAnswer('N'); showQuestion(8)">🧠 직감적으로 파악한다</button>
    <button onclick="recordAnswer('S'); showQuestion(8)">📋 구체적인 말을 듣고 파악한다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 뉴욕타임스, BBC, 로이터 등에서 보도한 공공 만남 행사로는 드문 사례다.</p>
  </div>

  <div class="container" id="question8">
    <div class="question-label">Q8.</div>
    <div class="question-text">기분이 안 좋은 상대를 보면 나는...</div>
    <button onclick="recordAnswer('F'); showQuestion(9)">🤗 공감과 위로를 건넨다</button>
    <button onclick="recordAnswer('T'); showQuestion(9)">🔍 원인을 분석해 해결하려 한다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 이 행사는 상표 등록을 마친 공식 브랜드 행사다.</p>
  </div>

  <div class="container" id="question9">
    <div class="question-label">Q9.</div>
    <div class="question-text">여행을 간다면 나는...</div>
    <button onclick="recordAnswer('J'); showQuestion(10)">🗺️ 루트를 꼼꼼히 짜는 편</button>
    <button onclick="recordAnswer('P'); showQuestion(10)">🎒 즉흥적으로 움직이는 편</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 KAIST AI 대학원과 협력한 AI 매칭 프로그램으로 조 편성이 이뤄진다.</p>
  </div>

  <div class="container" id="question10">
    <div class="question-label">Q10.</div>
    <div class="question-text">데이트에서 가장 중요한 건...</div>
    <button onclick="recordAnswer('F'); showQuestion(11)">💕 감정 교감</button>
    <button onclick="recordAnswer('T'); showQuestion(11)">🧠 대화와 논리</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 로테이션 대화, 연애 코칭 등 다양한 프로그램이 마련되어 있다.</p>
  </div>

    <div class="container" id="question11">
    <div class="question-label">Q11.</div>
    <div class="question-text">누군가에게 끌릴 때 나는…</div>
    <button onclick="recordAnswer('E'); showQuestion(12)">😍 외향적인 매력에 반한다</button>
    <button onclick="recordAnswer('I'); showQuestion(12)">🧐 조용한 성격에 끌린다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 평균 경쟁률은 약 6:1로, 높은 관심을 받고 있는 행사다.</p>
  </div>

  <div class="container" id="question12">
    <div class="question-label">Q12.</div>
    <div class="question-text">데이트가 취소됐을 때 나는…</div>
    <button onclick="recordAnswer('J'); showQuestion(13)">🙄 갑자기 생긴 시간이 불편하다</button>
    <button onclick="recordAnswer('P'); showQuestion(13)">😎 오히려 여유롭고 좋다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 자유로운 분위기 속에서 청년 간의 교류와 소통을 유도한다.</p>
  </div>

  <div class="container" id="question13">
    <div class="question-label">Q13.</div>
    <div class="question-text">상대의 말투가 거칠면…</div>
    <button onclick="recordAnswer('F'); showQuestion(14)">🥺 감정적으로 받아들인다</button>
    <button onclick="recordAnswer('T'); showQuestion(14)">🤷 그냥 스타일 차이로 넘긴다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 청년들의 진지한 관계 형성을 지원한다.</p>
  </div>

  <div class="container" id="question14">
    <div class="question-label">Q14.</div>
    <div class="question-text">소개팅 첫 질문은 보통…</div>
    <button onclick="recordAnswer('S'); showQuestion(15)">💼 실용적인 이야기부터 한다</button>
    <button onclick="recordAnswer('N'); showQuestion(15)">🧩 흥미로운 주제로 분위기를 푼다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 ‘솔로몬의 선택’은 우수행정 분야 등에서 수상 실적을 보유한 공식 행사다.</p>
  </div>

  <div class="container" id="question15">
    <div class="question-label">Q15.</div>
    <div class="question-text">선물 고를 때 나는…</div>
    <button onclick="recordAnswer('T'); showQuestion(16)">🎁 실용성을 고려한다</button>
    <button onclick="recordAnswer('F'); showQuestion(16)">💝 마음이 담긴 걸 고른다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 다수의 지자체가 벤치마킹하는 대표적인 만남 행사다.</p>
  </div>

  <div class="container" id="question16">
    <div class="question-label">Q16.</div>
    <div class="question-text">썸 타는 사람과 연락 텀이 길면…</div>
    <button onclick="recordAnswer('E'); showQuestion(17)">😬 불안해서 먼저 연락한다</button>
    <button onclick="recordAnswer('I'); showQuestion(17)">🤫 자연스럽게 기다린다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 실제 참가자들로부터 높은 만족도 평가를 받고 있다.</p>
  </div>

  <div class="container" id="question17">
    <div class="question-label">Q17.</div>
    <div class="question-text">상대가 속마음을 잘 안 털어놓으면…</div>
    <button onclick="recordAnswer('N'); showQuestion(18)">🔍 대화를 유도한다</button>
    <button onclick="recordAnswer('S'); showQuestion(18)">🧱 거리를 두게 된다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 연애 경험이 적은 참가자들도 편하게 참여할 수 있도록 설계되었다.</p>
  </div>

  <div class="container" id="question18">
    <div class="question-label">Q18.</div>
    <div class="question-text">데이트 장소를 고를 때 나는…</div>
    <button onclick="recordAnswer('J'); showResult()">📌 분위기 좋은 곳을 고집한다</button>
    <button onclick="recordAnswer('P'); showResult()">🎲 그날 기분 따라 결정한다</button>
    <p class="comment" style="font-size: 12px; margin-top: auto; margin-bottom: 10px; color: #777; align-self: flex-start; text-align: center; width: 100%;">📌 참가비는 무료이며, 모든 프로그램은 성남시에서 지원한다.</p>
  </div>
  
  <div class="container" id="result">
        <h1>🌈 당신의 이상형 결과는?</h1>
        <p id="resultText"><strong>결과 분석 중...</strong></p>
      <div class="share-container" style="position: relative; display: inline-block;">
        <button onclick="toggleShareMenu()" class="share-main-button">📤 내 결과 공유하기</button>
        <div id="shareMenu" class="share-menu" style="display: none; position: absolute; background: white; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 100; margin-top: 5px;">
          <button onclick="copyLink()" class="share-menu-item">🔗 링크 복사</button>
          <button onclick="shareKakao()" class="share-menu-item">💬 카카오톡 공유</button>
          <button onclick="shareLine()" class="share-menu-item">📲 라인 공유</button>
          <button onclick="shareFacebook()" class="share-menu-item">📘 페이스북 공유</button>
          <button onclick="shareX()" class="share-menu-item">✖️ X 공유</button>
        </div>
      </div>
    <!-- 여기에 새로운 멘트 추가 -->
        <p style="font-size: 14px; margin-top: 20px; margin-bottom: 10px; line-height: 1.4;">
        내 이상형을 만나고 싶다면? <br>
        성남시 청춘남녀 만남행사 <span class="hotpink-text"><strong>'SOLO MON의 선택'</strong></span>에 참가하세요!
        </p>
        <button onclick="window.open('https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1')">행사 신청하러 가기 🎟</button>
        <p style="font-size: 12px; margin-top: 30px;">Made by <strong>JINO</strong></p>
      </div>

  <script>
    let answers = [];

    function showQuestion(num) {
      document.querySelectorAll('.container').forEach(c => c.style.display = 'none');
      document.getElementById(`question${num}`).style.display = 'flex';
    }

    function recordAnswer(letter) {
      answers.push(letter);
    }

function showResult() {
  document.querySelectorAll('.container').forEach(c => c.style.display = 'none');
  document.getElementById('result').style.display = 'flex';

  const counts = {};
  answers.forEach(l => counts[l] = (counts[l] || 0) + 1);

  let maxLetter = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);

  const results = {
    E: { title: "열정적인 리더 타입 💃", desc: "사교적이고 주도적인 사람에게 끌려요." },
    I: { title: "조용한 관찰자 타입 🧘", desc: "배려 깊고 내성적인 사람이 좋아요." },
    S: { title: "현실적인 안식처 타입 🛋️", desc: "안정적이고 믿음직한 사람에게 매력을 느껴요." },
    N: { title: "창의적인 낭만주의자 타입 🎨", desc: "자유롭고 상상력이 풍부한 사람에게 설레요." },
    T: { title: "논리적인 조언자 타입 📊", desc: "이성적이고 논리적인 사람과 잘 맞아요." },
    F: { title: "감성 충만 공감러 타입 🌸", desc: "감정을 잘 나누는 사람에게 편안함을 느껴요." },
    J: { title: "계획형 신중파 타입 📅", desc: "체계적이고 계획적인 사람에게 안정감을 느껴요." },
    P: { title: "즉흥적인 자유인 타입 🛫", desc: "즉흥적이고 유연한 사람이 좋아요." },
    DEFAULT: { title: "다재다능한 동반자 타입 🧩", desc: "여러 성향이 조화로운 이상형이에요." }
  };

  const result = results[maxLetter] || results.DEFAULT;
  document.getElementById("resultText").innerHTML = `<p><strong>${result.title}</strong></p><p>${result.desc}</p>`;
} // showResult 함수 닫기

// 공유 관련 함수들을 showResult 함수 밖으로 이동
function toggleShareMenu() {
  const menu = document.getElementById('shareMenu');
  if (menu) {
    menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
  }
}

function copyLink() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText; // 결과 텍스트 가져오기

  const shareContent = `
솔로몬의 선택 이상형 테스트 결과는?
${resultText}

테스트 참여하기 👉 ${testLink}
'내 이상형을 만날 기회!' 성남시 'SOLO MON의 선택' 신청하기 👉 ${eventLink}
`.trim(); // 템플릿 리터럴로 내용 조합 및 앞뒤 공백 제거

  navigator.clipboard.writeText(shareContent)
    .then(() => alert("결과가 클립보드에 복사되었어요! 친구에게 붙여넣기 해보세요 ✨"))
    .catch(err => alert("링크 복사에 실패했습니다: " + err));
  toggleShareMenu();
}

function shareKakao() {
  if (typeof Kakao !== 'undefined') {
    const testLink = "https://jjinooh.github.io/SOLO_MON/";
    const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
    const resultText = document.getElementById("resultText").innerText;

    Kakao.Link.sendDefault({
      objectType: 'text',
      text: `솔로몬의 선택 이상형 테스트 결과는:\n${resultText}`, // 결과 텍스트를 메인 메시지로
      link: {
        webUrl: testLink, // 이 링크는 메시지 전체의 메인 링크
        mobileWebUrl: testLink
      },
      buttons: [
        {
          title: '테스트 다시하기',
          link: {
            webUrl: testLink,
            mobileWebUrl: testLink,
          },
        },
        {
          title: '행사 신청하러 가기', // 행사 신청 링크 버튼
          link: {
            webUrl: eventLink,
            mobileWebUrl: eventLink,
          },
        },
      ],
    });
  } else {
    alert('카카오톡 공유 기능을 사용할 수 없습니다.');
  }
  toggleShareMenu();
}

function shareLine() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText;

  const shareMessage = `솔로몬의 선택 이상형 테스트 결과는:
${resultText}

테스트 참여하기: ${testLink}
행사 신청하기: ${eventLink}`;

  const url = "https://social-plugins.line.me/lineit/share?url=" + encodeURIComponent(testLink) + "&text=" + encodeURIComponent(shareMessage);
  window.open(url, '_blank');
  toggleShareMenu();
}

function shareFacebook() {
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText;

  const shareMessage = `솔로몬의 선택 이상형 테스트 결과는:
${resultText}

테스트 참여하기: ${testLink}
'내 이상형을 만날 기회!' 성남시 'SOLO MON의 선택' 신청하기: ${eventLink}`;

  // Facebook은 'u' 파라미터를 통해 공유할 URL을 지정합니다. 여기에 테스트 링크를 넣고, 텍스트는 Facebook이 알아서 추출하도록 하거나, 공유 창에서 사용자가 직접 입력하도록 유도합니다.
  // Facebook은 외부에서 텍스트를 강제로 주입하는 것을 제한하는 경우가 많아, 링크를 기본으로 공유하고 추가 텍스트는 사용자가 작성하는 방식이 일반적입니다.
  const url = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(testLink) + "&quote=" + encodeURIComponent(shareMessage);
  window.open(url, '_blank');
  toggleShareMenu();
}

function shareX() { // 이전 Twitter (X)
  const testLink = "https://jjinooh.github.io/SOLO_MON/";
  const eventLink = "https://www.seongnam.go.kr/apply/view.do?appIdx=2987&currentPage=1";
  const resultText = document.getElementById("resultText").innerText;

  const shareMessage = `솔로몬의 선택 이상형 테스트 결과는:
${resultText}

#솔로몬의선택 #이상형테스트 #성남시행사`; // 해시태그 추가 가능

  // X (구 트위터)는 'text' 파라미터로 텍스트와 함께 URL을 직접 지정할 수 있습니다.
  const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareMessage + '\n\n' + '테스트 참여: ' + testLink + '\n행사 신청: ' + eventLink)}`;
  window.open(url, '_blank');
  toggleShareMenu();
}
      </script>
</body>
</html>
